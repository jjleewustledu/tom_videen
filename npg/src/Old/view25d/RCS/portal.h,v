head	2.17;
access;
symbols;
locks; strict;
comment	@ * @;


2.17
date	95.09.08.21.40.23;	author ty7777;	state Exp;
branches;
next	2.16;

2.16
date	95.09.07.16.54.15;	author ty7777;	state Exp;
branches;
next	2.15;

2.15
date	95.08.31.20.18.16;	author ty7777;	state Exp;
branches;
next	2.14;

2.14
date	95.08.28.21.09.03;	author ty7777;	state Exp;
branches;
next	2.13;

2.13
date	95.08.28.15.38.17;	author ty7777;	state Exp;
branches;
next	2.12;

2.12
date	95.07.31.19.06.44;	author ty7777;	state Exp;
branches;
next	2.11;

2.11
date	95.07.26.20.41.37;	author ty7777;	state Exp;
branches;
next	2.10;

2.10
date	95.07.24.20.29.11;	author ty7777;	state Exp;
branches;
next	2.9;

2.9
date	95.07.14.20.53.07;	author ty7777;	state Exp;
branches;
next	2.8;

2.8
date	95.07.07.17.13.26;	author ty7777;	state Exp;
branches;
next	2.7;

2.7
date	95.06.30.15.21.24;	author ty7777;	state Exp;
branches;
next	2.6;

2.6
date	95.06.05.19.51.49;	author ty7777;	state Exp;
branches;
next	2.5;

2.5
date	95.05.03.20.47.12;	author ty7777;	state Exp;
branches;
next	2.4;

2.4
date	95.01.17.20.07.22;	author ty7777;	state Exp;
branches;
next	2.3;

2.3
date	94.12.01.16.58.14;	author ty7777;	state Exp;
branches;
next	2.2;

2.2
date	94.10.26.16.14.27;	author ty7777;	state Exp;
branches;
next	2.1;

2.1
date	94.10.19.16.59.59;	author ty7777;	state Exp;
branches;
next	1.56;

1.56
date	94.10.17.19.50.35;	author ty7777;	state Exp;
branches;
next	1.55;

1.55
date	94.08.25.16.41.38;	author ty7777;	state Exp;
branches;
next	1.54;

1.54
date	94.05.05.16.54.31;	author ty7777;	state Exp;
branches;
next	1.53;

1.53
date	94.04.18.17.54.39;	author ty7777;	state Exp;
branches;
next	1.52;

1.52
date	94.04.12.20.07.32;	author ty7777;	state Exp;
branches;
next	1.51;

1.51
date	94.04.12.15.06.58;	author ty7777;	state Exp;
branches;
next	1.50;

1.50
date	94.02.11.22.23.48;	author ty7777;	state Exp;
branches;
next	1.49;

1.49
date	94.01.24.20.07.22;	author ty7777;	state Exp;
branches;
next	1.48;

1.48
date	94.01.11.22.23.17;	author ty7777;	state Exp;
branches;
next	1.47;

1.47
date	94.01.11.17.56.43;	author ty7777;	state Exp;
branches;
next	1.46;

1.46
date	93.12.16.15.42.44;	author ty7777;	state Exp;
branches;
next	1.45;

1.45
date	93.12.14.19.59.41;	author ty7777;	state Exp;
branches;
next	1.44;

1.44
date	93.12.13.15.19.02;	author ty7777;	state Exp;
branches;
next	1.43;

1.43
date	93.10.22.20.04.25;	author ty7777;	state Exp;
branches;
next	1.42;

1.42
date	93.09.27.18.50.33;	author ty7777;	state Exp;
branches;
next	1.41;

1.41
date	93.09.23.20.39.40;	author ty7777;	state Exp;
branches;
next	1.40;

1.40
date	93.07.13.15.10.59;	author ty7777;	state Exp;
branches;
next	1.39;

1.39
date	93.07.06.16.54.16;	author ty7777;	state Exp;
branches;
next	1.38;

1.38
date	93.06.03.19.40.04;	author ty7777;	state Exp;
branches;
next	1.37;

1.37
date	93.06.03.14.34.35;	author ty7777;	state Exp;
branches;
next	1.36;

1.36
date	93.06.02.17.14.58;	author ty7777;	state Exp;
branches;
next	1.35;

1.35
date	93.05.17.17.16.58;	author ty7777;	state Exp;
branches;
next	1.34;

1.34
date	93.05.07.21.57.31;	author ty7777;	state Exp;
branches;
next	1.33;

1.33
date	93.05.07.21.00.27;	author ty7777;	state Exp;
branches;
next	1.32;

1.32
date	93.04.05.17.34.25;	author ty7777;	state Exp;
branches;
next	1.31;

1.31
date	93.01.28.15.44.47;	author ty7777;	state Exp;
branches;
next	1.30;

1.30
date	93.01.11.15.48.12;	author ty7777;	state Exp;
branches;
next	1.29;

1.29
date	92.12.07.20.35.51;	author ty7777;	state Exp;
branches;
next	1.28;

1.28
date	92.12.03.20.25.44;	author ty7777;	state Exp;
branches;
next	1.27;

1.27
date	92.09.28.16.48.12;	author ty7777;	state Exp;
branches;
next	1.26;

1.26
date	92.09.23.19.32.19;	author ty7777;	state Exp;
branches;
next	1.25;

1.25
date	92.09.23.13.54.42;	author ty7777;	state Exp;
branches;
next	1.24;

1.24
date	92.08.03.18.53.45;	author ty7777;	state Exp;
branches;
next	1.23;

1.23
date	92.08.03.15.03.08;	author ty7777;	state Exp;
branches;
next	1.22;

1.22
date	92.07.31.20.50.55;	author ty7777;	state Exp;
branches;
next	1.21;

1.21
date	92.07.31.14.39.07;	author ty7777;	state Exp;
branches;
next	1.20;

1.20
date	92.07.20.19.30.10;	author ty7777;	state Exp;
branches;
next	1.19;

1.19
date	92.07.17.18.04.03;	author ty7777;	state Exp;
branches;
next	1.18;

1.18
date	92.07.16.18.56.54;	author ty7777;	state Exp;
branches;
next	1.17;

1.17
date	92.07.16.14.37.23;	author ty7777;	state Exp;
branches;
next	1.16;

1.16
date	92.07.14.15.00.53;	author ty7777;	state Exp;
branches;
next	1.15;

1.15
date	92.07.09.22.16.29;	author ty7777;	state Exp;
branches;
next	1.14;

1.14
date	92.07.08.18.49.31;	author ty7777;	state Exp;
branches;
next	1.13;

1.13
date	92.07.06.22.23.44;	author ty7777;	state Exp;
branches;
next	1.12;

1.12
date	92.07.06.18.17.39;	author ty7777;	state Exp;
branches;
next	1.11;

1.11
date	92.07.02.18.07.29;	author ty7777;	state Exp;
branches;
next	1.10;

1.10
date	92.07.02.15.14.43;	author ty7777;	state Exp;
branches;
next	1.9;

1.9
date	92.06.30.21.50.58;	author ty7777;	state Exp;
branches;
next	1.8;

1.8
date	92.06.01.13.52.45;	author ty7777;	state Exp;
branches;
next	1.7;

1.7
date	92.05.27.20.29.01;	author ty7777;	state Exp;
branches;
next	1.6;

1.6
date	92.05.27.14.52.56;	author ty7777;	state Exp;
branches;
next	1.5;

1.5
date	92.05.26.14.49.23;	author ty7777;	state Exp;
branches;
next	1.4;

1.4
date	92.05.21.19.51.15;	author ty7777;	state Exp;
branches;
next	1.3;

1.3
date	92.05.21.17.25.44;	author ty7777;	state Exp;
branches;
next	1.2;

1.2
date	92.05.20.20.03.40;	author ty7777;	state Exp;
branches;
next	1.1;

1.1
date	92.04.28.18.02.38;	author ty7777;	state Exp;
branches;
next	;


desc
@View25d C Source Code First Release.
@


2.17
log
@Updated to introduce atlas 2.
@
text
@/*$Id: portal.h,v 2.16 1995/09/07 16:54:15 ty7777 Exp ty7777 $*/
/*$Log: portal.h,v $
 * Revision 2.16  1995/09/07  16:54:15  ty7777
 * Get rid of ERROR_BOUND.
 *
 * Revision 2.15  1995/08/31  20:18:16  ty7777
 * Before watch cursor works.
 *
 * Revision 2.14  1995/08/28  21:09:03  ty7777
 * After color bar works.
 *
 * Revision 2.13  1995/08/28  15:38:17  ty7777
 * Before adding mutual image1 and image2 point display.
 *
 * Revision 2.12  1995/07/31  19:06:44  ty7777
 * After show multiple point works.
 *
 * Revision 2.11  1995/07/26  20:41:37  ty7777
 * Made image overlay work.
 *
 * Revision 2.10  1995/07/24  20:29:11  ty7777
 * The mask for interfile worked.
 *
 * Revision 2.9  1995/07/14  20:53:07  ty7777
 * Before further changes.
 *
 * Revision 2.8  1995/07/07  17:13:26  ty7777
 * Two data sets works correctly.
 *
 * Revision 2.7  1995/06/30  15:21:24  ty7777
 * Before making further changes, tow independent color bars worked.
 *
 * Revision 2.6  1995/06/05  19:51:49  ty7777
 * Before release the constraint on the number of slices to display.
 *
 * Revision 2.5  1995/05/03  20:47:12  ty7777
 * Moved TRANSVERSE, CORONAL, FACING_LEFT, and FACING_RIGHT to petutil.h.
 *
 * Revision 2.4  1995/01/17  20:07:22  ty7777
 * Deleted data_sets list.
 *
 * Revision 2.3  1994/12/01  16:58:14  ty7777
 * Deleted szLibraryPath.
 *
 * Revision 2.2  1994/10/26  16:14:27  ty7777
 * Same as the last one.
 *
 * Revision 2.1  1994/10/19  16:59:59  ty7777
 * Change szLibraryPath from a pointer to a string.
 *
 * Revision 1.56  1994/10/17  19:50:35  ty7777
 * Before letting the filter pattern remain.
 **/

/*____________________________________________________________________________	
	portal.h

	Description:
		Header file for portal software. Includes description
		of atlas slice data and global variables for defaults in
		system. Also includes necessary X and application headers.

	Authors:
		Tom Yang and M Todd Gamble.
		02/01/91

	Modifications:
		Add scale, nNumPixels, region_points, and region_color to the 
		structure SliceData.
		3/12/91 by Tom Yang.

	Pending:
		Put comments in function prototypes to make them ANSI C style.

		3/11/91 by Tom Yang. 

_____________________________________________________________________________*/	

#ifndef _PORTAL_H_INCLUDED
#define _PORTAL_H_INCLUDED

#include <values.h>

#include <X11/X.h> 
#include <X11/Xlib.h> 
#include <X11/Xutil.h> 
#include <X11/Xatom.h> 
#include <X11/cursorfont.h>
#include <X11/Intrinsic.h> 
#include <X11/StringDefs.h>
#include <Xm/Text.h>			/* contains XmTextGetString */

#include <petutil/imglist.h>

#include "gammaz.h"		/* include gammaz specification */


/* 
 * constants 
 */

#define MAX_TRANS_ATLAS_NUM	75		/* maximum number for transverse display */
#define MAX_ATLAS_NUM		128		/* maximum number for transverse, coronal, */
						/* and saggital display */
#define SUPER_PETT_PIXEL_WIDTH	2
#define SUPER_PETT_PIXEL_HEIGHT	2
#define PET_BACK_VALUE		0		/* pixel value for pet image background */
#define PETT_VI			6
#define CODE_POS		5
#define PETT_NUM_POS		6
#define NUM_SLICES_POS		7
#define NUM_RECORDS_POS		8
#define RECORD_POS		9
#define PETT_VI_POS		120
#define PETT_VI_7SLICES		7
#define REGION_SLICE_WIDTH     	128		/* rgn width from .trg file */
#define REGION_SLICE_HEIGHT     128		/* rgn height from .trg file */
#define REGION_SLICE_CX     	64.5
#define REGION_SLICE_CY     	64.5
#define RGN_PIXEL_WIDTH 	2		/* rgn pixel width in mm */
#define RGN_PIXEL_HEIGHT 	2		/* rgn pixel height in mm */
#define ATLAS_THRESHOLD 	1		/* atlas slice thresholding */ 
#define DRAW_AREA_WIDTH		1600		/* dim of virtual screen */
#define DRAW_AREA_HEIGHT	1200	
#define FORMAT_WIDTH		1152		/* width and height of virtual screen */
#define FORMAT_HEIGHT		900	
#define TOTAL_COLOR_CELLS       256  
#define NCOLORS			20
#define NCOLORS_NONIMAGE	4
#define PET_COLOR_START		TOTAL_COLOR_CELLS - NCOLORS - NCOLORS_NONIMAGE
#define BACKGROUND_CELL		PET_COLOR_START + NCOLORS
#define ATLAS1_CELL		PET_COLOR_START + NCOLORS + 1
#define ATLAS2_CELL		PET_COLOR_START + NCOLORS + 2
#define LABEL_CELL		PET_COLOR_START + NCOLORS + 3
#define PET6_COLOR_BACK		0
#define PETVALUE_POSITIVE  	0
#define PETVALUE_NEGATIVE  	1
#define PETVALUE_DUAL		2
#define ICONSIZE		7		/* icon width in pixels */
#define TEXT_FONT		"*times-bold-r*--24-240-75-75*" /* default font for drawing text */
#define AF3D_LEGEND_FONT	"*times-bold-r*--24-240-75-75*" /* default font for drawing af3d font*/
#define MAG_TWO_INDEX		0
#define MAG_ONE_INDEX		1
#define MAG_HALF_INDEX		2
#define MAG_QUARTER_INDEX	3
#define MAG_ANY_INDEX		4
#define MAG_NUM			5		/* num. of mag.: 2, 1, 1/2, 1/4, any */
#define REGION_FILLED		0		/* filled region style */
#define REGION_OUTLINE		1		/* outline region style */
#define REGION_PIXEL		2		/* pixel region style */
#define REGION_STYLE_NUM	3		/* number of region styles */
#define SCALE_NUM		3		/* num. of pet values: p., n., b. */
#define INPUT_NEW		0		/* no input data yet */
#define INPUT_UPDATE		1		/* update input, first slice, last slice, or spacing
						changed */
#define INPUT_SAME		2		/* nothing changed */
#define HEADER			1		/* num. of header lines in a .trg file */
#define	TOGGLE_COLOR		0
#define TOGGLE_ALIGN		1		
#define TOGGLE_SLANT		2		
#define TOGGLE_WEIGHT		3		
#define TOGGLE_ORIENT		4		
#define TOGGLE_MAG		5		
#define TOGGLE_SCALE		6		
#define TOGGLE_ATLAS_ORIENT	7		
#define TOGGLE_SYMBOL_SHAPE	8		
#define ALIGNMENT_LEFT		0		/* alignment left */
#define ALIGNMENT_CENTER	1		/* alignment center */
#define ALIGNMENT_RIGHT		2		/* alignment right */
#define LINE_SPACING_FACTOR	10		/* factor for line spacing values */
#define PIXEL_POINT_FACTOR	10		/* factor for converting pixel size to point size */
#define ALIGNMENT_NUM		3		/* alignment left, center, right */
#define SLANT_ROMAN		0		/* roman slant  */
#define SLANT_ITALIC		1		/* italic */
#define SLANT_OBLIQUE		2		/* oblique */
#define SLANT_NUM		3		/* slant number */
#define WEIGHT_MEDIUM		0		/* weight medium */
#define WEIGHT_BOLD		1		/* weight bold */
#define WEIGHT_NUM		2		/* weight number */
#define ORIENT_NUM		2		/* orientation number */
#define ORIENT_HORI		0		/* horizontal */
#define ORIENT_VERT		1		/* vertical */
#define MAX_REGIONSET_NUM	10
#define MAX_AF3DSET_NUM		10
#define ALTER0			0
#define ALTER1			1
#define ALTER2			2
#define ALTER3			3
#define ALTER4			4
#define ALTER5			5
#define ALTER6			6
#define ALTER7			7
#define ALTER8			8
#define ALTER9			9
#define MAX_NONIMAGE_COLOR	8
#define	BLACK			0
#define	BLUE			1
#define	CYAN			2
#define	GREEN			3
#define	YELLOW			4
#define	MAGENTA			5
#define	RED			6
#define	WHITE			7
#define	GRAY			8
#define	ORIENTATION_NUM		4
#define	CX_IMAGE		63.5		/* C image array starting at 0 */
#define	CY_IMAGE		63.5
#define	CZ_IMAGE		30
#define	ERROR_AF3D_FORMAT	0
#define	ERROR_FILE_EMPTY	1
#define	ERROR_DIR_NOTEXIST	2
#define	OUTLINE_RECT_INDEX	0
#define	SOLID_RECT_INDEX	7
#define	PIXEL_INDEX		14
#define	NUM_SYMBOL_NAMES	15
#define	LENGEND_FONT		"-adobe-times-bold-r-normal--24-240-75-75-p-132-iso8859-1"
#define	DEFAULT_ZORIGIN		31		/* default zorigin */


/* 
 * application defined structures 
 */

typedef struct 
{
	int		width;
	int		height;
	float		pixel_size;
	int		centerx;
	int		centery;
	BOOLEAN		any_scale_flag;		/* TRUE: any scale; FALSE: normal scale */
	int		any_atlas_width;	
	int		any_atlas_height;
	char		image_name [MAXLINE];
	char		mask_name [MAXLINE];
} SCALE_HEADER;					/* structure for header with different scales */

typedef struct 
{
	SCALE_HEADER	scale_025_header;
	SCALE_HEADER	scale_050_header;
	SCALE_HEADER	scale_100_header;
	char		index_table [MAX_ATLAS_NUM];
} ATLAS_HEADER;					/* structure for atlas header */

typedef struct 
{
	int		slice_index;		
	short		*slice_data;
} HorizontalSlice;

typedef struct 
{
	int		slice_xyz;		/* x, y, or z value of a slice */		
	int		atlas_index;		
	short		xlabel_start;
	short		ylabel_start;
	short		label_width;
	short		label_height;
	BOOLEAN		pet_exist;		/* TRUE: PET slice exist */
	short		*pet_input;		/* pet6 image data after clipping */
	unsigned char	*pet_point_pixel;	/* pet6 image read in from file */
	XPoint		*pet_point_coord;	/* pet image coordinates */
	int		pet_point_num;		/* number of points in pet image */
	int		pet_xstart;		/* pet image x start */
	int		pet_ystart;		/* pet image y start */
	int		pet_width;		/* pet image width */
	int		pet_height;		/* pet image height */
	float		rgn_pet_pixelwidth;	/* region and pet image pixel width */
	float		rgn_pet_pixelheight;	/* region and pet image pixel height */
} SliceData;					/* structure for a single slice */

typedef struct 
{
	int	z;
	char	filling_type;
	Pixel	region_color;
	int	region_pixel_num;
	XPoint	*region_input;	
} RegionListData;				/* structure for a single node in a region list */

typedef struct 
{
	unsigned int	x;			/* representing upper left corner */ 
	unsigned int 	y;			/* of portal */
	unsigned int	xold;			/* representing old upper left corner */ 
	unsigned int	yold;			/* representing old upper left corner */ 
	SliceData	*slice;			/* pointer to atlas slice in portal */
} Portal;					/* structure for a single portal */

typedef struct 
{
	Display		*display;
	Window		window;
	GC		gc;
	Cursor		cursor;
} DRAW_DATA;

typedef enum 
{
	NoState,
	SaveRegionState,
	LabelState,
	CutState,
	CopyState,
	PasteState,
	ShowSliceState,
	ShowPointState,
	ShowMultiplePointState,
	AF3DLegendState
} PointerStatus;

typedef enum 
{
	OpenAtlas,
	OpenImage1,
	OpenImage2,
	OpenRegion,
	OpenMask,
	OpenAF3D,
	GetDefaults,
	SaveDefaults,
	SaveWinDump,
	SaveCoordinates
} FileStatus;

typedef struct 
{
	unsigned short	red;	
	unsigned short	green;	
	unsigned short	blue;	
} RGB_COLOR;

typedef struct 
{
	Widget		*atlas_trim;
	Widget		*atlas1;
	Widget		*image1;
	Widget		*mask1;
	Widget		*atlas2;
	Widget		*image2;
	Widget		*mask2;
	Widget		*label;
	Widget		*slice_num_flag;
	Widget		*first_slice;
	Widget		*last_slice;
	Widget		*spacing;
	Widget		*orientation_set;
} DATA_TYPE_MENU;

typedef struct 
{
	Widget		*mag_set;
	Widget		*text_mag_any;
	Widget		*scale_set_image1;
	Widget		*auto_minmax_image1;
	Widget		*min_text_image1;
	Widget		*max_text_image1;
	Widget		*scale_set_image2;
	Widget		*auto_minmax_image2;
	Widget		*min_text_image2;
	Widget		*max_text_image2;
} MAG_SCALE_MENU;

typedef struct 
{
	Widget		*toggle_alter_set;
	Widget		*display_onoff_set;
	Widget		*label_file_set;
	Widget		*label_pattern_set;
	Widget		*toggle_color_set;		
	Widget		*toggle_pattern_set;
	Widget		*toggle_talairach_region;
} REGION_MENU;

typedef struct 
{
	Widget		*toggle_alter_set;
	Widget		*display_onoff_set;
	Widget		*label_file_set;
	Widget		*label_symbol_set;
	Widget		*label_symbol_size_set;
	Widget		*toggle_color_set;		
	Widget		*toggle_symbol_set;
	Widget		*filled;
	Widget		*all_planes;
	Widget		*size_scale;
	Widget		*outline_width;
	Widget		*text_maximum_distance;
} SYMBOL_MENU;

typedef struct 
{
	Widget		*format_x;
	Widget		*format_y;
	Widget		*format_width;
	Widget		*format_height;
	Widget		*xstart_text_image1;
	Widget		*ystart_text_image1;
	Widget		*xstart_text_image2;
	Widget		*ystart_text_image2;
	Widget		*xoffset_text;
	Widget		*yoffset_text;
	Widget		*rowxoffset_text;
	Widget		*rowyoffset_text;
	Widget		*label_xstart;
	Widget		*label_ystart;
	Widget		*display_order;
} FORMAT_SCREEN_MENU;

typedef struct 
{
	Widget		*image1_xstart;
	Widget		*image1_ystart;
	Widget		*image1_width;
	Widget		*image1_height;
	Widget		*image1_orientation;
	Widget		*image1_onoff;
	Widget		*image2_xstart;
	Widget		*image2_ystart;
	Widget		*image2_width;
	Widget		*image2_height;
	Widget		*image2_orientation;
	Widget		*image2_onoff;
} COLOR_BAR_MENU;

typedef struct 
{
	Widget		*font_color_set;
	Widget		*font_list;
	Widget		*size_list;
	Widget		*font_name;
	Widget		*size_name;
	Widget		*slant_set;
	Widget		*weight_set;
	Widget		*orient_set;
	Widget		*alignment_set;
	Widget		*line_spacing;
} FONT_MENU;

typedef struct 
{
	char			*library_path;
	Widget			*back_color_set;
	Widget			*atlas1_color_set;
	Widget			*atlas2_color_set;
	Widget			*image1_color_box;
	Widget			*image2_color_box;
	Widget			*label_color_set;
	DATA_TYPE_MENU		*data_type_menu;
	MAG_SCALE_MENU		*mag_scale_menu;
	REGION_MENU		*region_menu;
	SYMBOL_MENU		*symbol_menu;
	FORMAT_SCREEN_MENU	*format_screen_menu;
	COLOR_BAR_MENU		*color_bar_menu;
	FONT_MENU		*font_menu;
	Widget			*save_format;
	Widget			*save_area;
} PARAMETERS_DATA;

typedef struct 
{
	DRAW_DATA	*draw_data;
	char		node_flag;		/* 1: select; 2: cancel. */
	Widget		frame;
	FONT_MENU	*font_menu;
} FONT_DATA;

typedef struct 
{
	SCALE_HEADER	*current_header;
	Portal		*portal; 
	short		*mask_slice;
	short		*atlas_slice;
	BOOLEAN		*display_atlas_flag;
	BOOLEAN		*display_pet_flag;
	BOOLEAN		*display_region_flag;
	BOOLEAN		*atlas_trim;
	BOOLEAN		*all_planes;
	float		spacing;
	BOOLEAN		*display_label_flag;
	char		*zlabel;
	short		*label_xorigin;		
	short		*label_yorigin;		
	BOOLEAN		*symbol_displayed;
} DRAW_PORTAL_DATA;


/* 
 * function prototypes 
 */

PUBLIC int		AtlasSliceCmp ();
PUBLIC void		CheckPoints ();
PUBLIC void		ClearData ();
PUBLIC void		DoPseudo ();
PUBLIC void		DrawColorBar ();
PUBLIC void		DrawColorBarText ();
PUBLIC void		DrawLabel ();
PUBLIC void		DrawLegend ();
PUBLIC void		DrawRectangle ();
PUBLIC void		ErrorCheckMinMax ();
PUBLIC int		GetActiveIndex ();
PUBLIC Widget		GetActiveWidget ();
PUBLIC void		GetDefaultParameters ();
PUBLIC char		*GetFontName ();
PUBLIC int		GetIndexFromName ();
PUBLIC void		GetLabelDim ();
PUBLIC void		GetLegendDim ();
PUBLIC void		GetNameFromWidget ();
PUBLIC void		GetImageMinMax ();
PUBLIC int		GetSliceCoord ();
PUBLIC int		GetSliceNumber ();
PUBLIC Widget		GetWidgetFromName ();
PUBLIC int		GetXColors ();
PUBLIC void		ImageColormap ();
PUBLIC void		ReadAtlasHeader ();
PUBLIC void		RedrawPortals ();
PUBLIC void		RegularMinMax ();
PUBLIC void		SetColorParameters ();
PUBLIC void		SaveDefaultParameters ();
PUBLIC void		SetDefaultAtlas ();
PUBLIC void		SetSelectData ();
PUBLIC void		ShowCoordinates ();
PUBLIC void		Swap ();
PUBLIC void		SwapShort ();
PUBLIC void		UpdatePortals ();
PUBLIC void		WindowDump ();



/* 
 * global variables 
 */

PUBLIC FileStatus	cFileState;
PUBLIC RGB_COLOR	rgbBackground;		/* background color value */
PUBLIC RGB_COLOR	rgbAtlas1;		/* atlas1 color value */
PUBLIC RGB_COLOR	rgbAtlas2;		/* atlas2 color value */
PUBLIC RGB_COLOR	rgbLabel;		/* Z-value label color value */
PUBLIC float		dSliceMagnification;	/* current selected scale */
PUBLIC BOOLEAN		bMagChanged;		/* TRUE: slice magnification changed */	
PUBLIC BOOLEAN		bAtlasChanged;		/* TRUE: atlas changed */	
PUBLIC BOOLEAN		bImage1ZoriginChanged;	/* TRUE: zorigin changed for image 1 */	
PUBLIC BOOLEAN		bImage2ZoriginChanged;	/* TRUE: zorigin changed for image 2 */	
PUBLIC BOOLEAN		bDisplayAtlas1;        
PUBLIC BOOLEAN		bDisplayAtlas2;        
PUBLIC BOOLEAN		bAtlasBackground;        
PUBLIC BOOLEAN		bDisplayImage1;        
PUBLIC BOOLEAN		bDisplayImage2;        
PUBLIC BOOLEAN		bDisplayLabel;        
PUBLIC BOOLEAN		bAllPlanes;        
PUBLIC BOOLEAN		bAutoImage1ValueFlag;        
PUBLIC char		cImage1ValueFlag;		/* 0: Positive; 1: Negative; 2: Dual */
PUBLIC short		nMaxImage1Value;
PUBLIC short		nMinImage1Value;
PUBLIC short		nAutoMaxImage1Value;
PUBLIC short		nAutoMinImage1Value;
PUBLIC BOOLEAN		bAutoImage2ValueFlag;        
PUBLIC char		cImage2ValueFlag;		/* 0: Positive; 1: Negative; 2: Dual */
PUBLIC short		nMaxImage2Value;
PUBLIC short		nMinImage2Value;
PUBLIC short		nAutoMaxImage2Value;
PUBLIC short		nAutoMinImage2Value;
PUBLIC short		nxFormatedScreen;
PUBLIC short		nyFormatedScreen;
PUBLIC short		nFormatedScreenWidth;
PUBLIC short		nFormatedScreenHeight;
PUBLIC short		nxImage1Start;
PUBLIC short		nyImage1Start;
PUBLIC short		nxImage2Start;
PUBLIC short		nyImage2Start;
PUBLIC short		nxOffsetMillimeter;
PUBLIC short		nyOffsetMillimeter;
PUBLIC short		nxRowRowMillimeter;
PUBLIC short		nyRowRowMillimeter;
PUBLIC short		nFirstSlice;		/* first slice number */
PUBLIC short		nLastSlice;		/* last slice number */
PUBLIC short		nSpacing;		/* the unit is slice number */
PUBLIC BOOLEAN		bImage1Selected;        
PUBLIC BOOLEAN		bImage2Selected;        
PUBLIC char		szAtlasPathName [];
PUBLIC char		szImage1PathName [];
PUBLIC char		szImage2PathName [];
PUBLIC char		szRegionPathName [];
PUBLIC char		szImageMaskPathName [];
PUBLIC char		szAF3DPathName [];
PUBLIC char		szDefaultsPathName [];
PUBLIC char		szWinDumpPathName [];
PUBLIC char		szCoordinatesPathName [];
PUBLIC char		szAtlasFileName [];
PUBLIC char		szAtlasCoordinate [];
PUBLIC char		szImage1FileName [];
PUBLIC char		szImage2FileName [];
PUBLIC char		szImageMaskFileName [];
PUBLIC char		szRegionFileNames [][MAXLINE];
PUBLIC char		szCoordinatesFileName [];
PUBLIC BOOLEAN		bDisplayRegion [];
PUBLIC Pixel		pixelRegionColor [];
PUBLIC char		cRegionColor [];
PUBLIC char		cDynamicRegionColor [];
PUBLIC char		cRegionType [];
PUBLIC char		cDynamicRegionType [];
PUBLIC char		cActiveRegionSet;
PUBLIC char		cOldActiveRegionSet;
PUBLIC char		cActivePatternType;
PUBLIC Widget		wActiveRegionColor;
PUBLIC BOOLEAN		bTalairachRegionFlag;
PUBLIC BOOLEAN		bTalairachFlag;
PUBLIC char		szAF3DFileNames [][MAXLINE];
PUBLIC BOOLEAN		bDisplaySymbol [];
PUBLIC BOOLEAN		bAF3DSymbolDisplayed [];
PUBLIC Pixel		pixelAF3DColor [];
PUBLIC char		cSymbolColor [];
PUBLIC char		cDynamicSymbolColor [];
PUBLIC char		cSymbolType [];
PUBLIC char		cDynamicSymbolType [];
PUBLIC unsigned short	nSymbolSize [];
PUBLIC int		nOutlineWidth;
PUBLIC char		cActiveAF3DSet;
PUBLIC char		cOldActiveAF3DSet;
PUBLIC char		cActiveSymbolType;
PUBLIC Widget		wActiveAF3DColor;
PUBLIC float		dMaximumDistance;	/* maximum allowed distance for af3d points display (mm) */
PUBLIC char		szDefaultsFileName [];
PUBLIC char		szImage1ColorTableName [];
PUBLIC char		szImage2ColorTableName [];
PUBLIC char		szWinDumpFileName [];
PUBLIC short		nxLabelStart;
PUBLIC short		nyLabelStart;
PUBLIC short		nxImage1ColorBarStart;
PUBLIC short		nyImage1ColorBarStart;
PUBLIC short		nImage1ColorBarLength;
PUBLIC short		nImage1ColorBarWidth;
PUBLIC BOOLEAN		bImage1HorizontalColorBar;
PUBLIC BOOLEAN		bImage1ColorBarOnOff;
PUBLIC short		nxImage1OldColorBar;
PUBLIC short		nyImage1OldColorBar;
PUBLIC short		nImage1OldColorBarLength;
PUBLIC short		nImage1OldColorBarWidth;
PUBLIC BOOLEAN		bImage1OldHoriColorBar;
PUBLIC short		nxImage2ColorBarStart;
PUBLIC short		nyImage2ColorBarStart;
PUBLIC short		nImage2ColorBarLength;
PUBLIC short		nImage2ColorBarWidth;
PUBLIC BOOLEAN		bImage2HorizontalColorBar;
PUBLIC BOOLEAN		bImage2ColorBarOnOff;
PUBLIC short		nxImage2OldColorBar;
PUBLIC short		nyImage2OldColorBar;
PUBLIC short		nImage2OldColorBarLength;
PUBLIC short		nImage2OldColorBarWidth;
PUBLIC BOOLEAN		bImage2OldHoriColorBar;
PUBLIC BOOLEAN		bLow2High;
PUBLIC BOOLEAN		bApplyMask1;
PUBLIC BOOLEAN		bApplyMask2;
PUBLIC BOOLEAN		bAtlasTrim;
PUBLIC BOOLEAN		bClearSliceArea;
PUBLIC XFontStruct	*FontStruct;
PUBLIC PointerStatus	cPointerState;
PUBLIC char		*szTextString;
PUBLIC char		cAlignment;
PUBLIC int		nLineSpacing;
PUBLIC Pixel		pixelTextColor;
PUBLIC BOOLEAN		bSliceNumberFlag;
PUBLIC unsigned int	wClipboard;
PUBLIC unsigned int	hClipboard;
PUBLIC BOOLEAN		bImage1ColorBarExist;        
PUBLIC BOOLEAN		bImage2ColorBarExist;        
PUBLIC XRectangle	rectImage1ColorBarMin;
PUBLIC XRectangle	rectImage2ColorBarMin;
PUBLIC XRectangle	rectImage1ColorBarMiddle;
PUBLIC XRectangle	rectImage2ColorBarMiddle;
PUBLIC XRectangle	rectImage1ColorBarMax;
PUBLIC XRectangle	rectImage2ColorBarMax;
PUBLIC char		*nonImageColorList [];
PUBLIC char		*symbolNames [];
PUBLIC char		*fontTable [];
PUBLIC char		*fontSizeTable [];
PUBLIC char		*nonImageColorList [];
PUBLIC char		*alignmentList [];
PUBLIC char		*slantList [];
PUBLIC char		*weightList [];
PUBLIC char		*orientList [];
PUBLIC char		*scaleList [];
PUBLIC char		*atlasOrientList [];
PUBLIC float		magnify_table [];
PUBLIC char		cMagnifyIndex;
PUBLIC char		cTextColorIndex;
PUBLIC char		cFontSlantIndex;
PUBLIC char		cFontWeightIndex;
PUBLIC char		cFontOrientIndex;
PUBLIC int		nFontNameIndex;
PUBLIC int		nFontSizeIndex;
PUBLIC short		nAF3DLegendWidth;
PUBLIC short		nAF3DLegendHeight;
PUBLIC short		nAF3DLegendFontHeight;
PUBLIC BOOLEAN		bWinDumpFile;
PUBLIC BOOLEAN		bSaveWholeScreen;
PUBLIC ATLAS_HEADER	rAtlasHeader;
PUBLIC SCALE_HEADER	*rCurrentScaleHeader;
PUBLIC SCALE_HEADER	rAnyScaleHeader;
PUBLIC Colormap		view25dColormap;
PUBLIC Atom		IMAGE_DATA_TYPE;
PUBLIC Atom		IMAGE_COLOR_TYPE;
PUBLIC Atom		IMAGE_NCOLOR;
PUBLIC char		cAtlasOrientation;
PUBLIC short		xTextEditStart;
PUBLIC short		yTextEditStart;
PUBLIC int		zorigin_image1;
PUBLIC int		zorigin_image2;
PUBLIC Widget		errorMessageBox;

PUBLIC llist		alist1;        
PUBLIC llist		alist2;        
PUBLIC llist		plist1;        
PUBLIC llist		plist2;        
PUBLIC llist		region_sets;        

#endif /* _PORTAL_H_INCLUDED */

@


2.16
log
@Get rid of ERROR_BOUND.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.15 1995/08/31 20:18:16 ty7777 Exp ty7777 $*/
d3 3
d129 1
a129 1
#define NCOLORS_NONIMAGE	3
d132 3
a134 2
#define ATLAS_CELL		PET_COLOR_START + NCOLORS + 1
#define LABEL_CELL		PET_COLOR_START + NCOLORS + 2
d445 2
a446 1
	Widget			*atlas_color_set;
d538 2
a539 1
PUBLIC RGB_COLOR	rgbAtlas;		/* atlas color value */
@


2.15
log
@Before watch cursor works.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.14 1995/08/28 21:09:03 ty7777 Exp ty7777 $*/
d3 3
a213 1
#define	ERROR_BOUND		0.000001	/* used for comparing real numbers */
@


2.14
log
@After color bar works.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.13 1995/08/28 15:38:17 ty7777 Exp ty7777 $*/
d3 3
a329 1
	Widget		*atlas;
d331 1
d334 1
d538 2
a539 1
PUBLIC BOOLEAN		bDisplayAtlas;        
@


2.13
log
@Before adding mutual image1 and image2 point display.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.12 1995/07/31 19:06:44 ty7777 Exp ty7777 $*/
d3 3
d654 8
a661 4
PUBLIC BOOLEAN		bColorBarExist;        
PUBLIC XRectangle	rectColorBarMin;
PUBLIC XRectangle	rectColorBarMiddle;
PUBLIC XRectangle	rectColorBarMax;
@


2.12
log
@After show multiple point works.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.11 1995/07/26 20:41:37 ty7777 Exp ty7777 $*/
d3 3
d405 1
d411 1
d433 2
a434 1
	Widget			*pet_color_box;
a491 1
PUBLIC void		GetFileStatus ();
d529 2
a530 1
PUBLIC BOOLEAN		bZoriginChanged;	/* TRUE: zorigin changed */	
d561 2
a562 2
PUBLIC short		nFirstSlice;
PUBLIC short		nLastSlice;
d620 1
d631 1
d689 2
a690 1
PUBLIC int		zorigin;
@


2.11
log
@Made image overlay work.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.10 1995/07/24 20:29:11 ty7777 Exp ty7777 $*/
d3 3
d294 1
@


2.10
log
@The mask for interfile worked.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.9 1995/07/14 20:53:07 ty7777 Exp ty7777 $*/
d3 3
d244 1
a244 1
	char		*pet_point_pixel;	/* pet6 image read in from file */
@


2.9
log
@Before further changes.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.8 1995/07/07 17:13:26 ty7777 Exp ty7777 $*/
d3 3
d195 2
a196 1
#define	DEFAULT_ZORIGIN		31	/* default zorigin */
@


2.8
log
@Two data sets works correctly.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.7 1995/06/30 15:21:24 ty7777 Exp ty7777 $*/
d3 3
a671 2

PUBLIC BOOLEAN		bInterfile;
@


2.7
log
@Before making further changes, tow independent color bars worked.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.6 1995/06/05 19:51:49 ty7777 Exp ty7777 $*/
d3 3
d309 4
a312 2
	Widget		*pet;
	Widget		*mask;
d325 8
a332 4
	Widget		*scale_set;
	Widget		*auto_pet_minmax;
	Widget		*min_text;
	Widget		*max_text;
d368 4
a371 2
	Widget		*xstart_text;
	Widget		*ystart_text;
a461 1
PUBLIC void		ColorBarText ();
d464 1
d513 2
a514 1
PUBLIC BOOLEAN		bDisplayPet;        
d535 2
d616 2
a617 1
PUBLIC BOOLEAN		bApplyMask;
@


2.6
log
@Before release the constraint on the number of slices to display.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.5 1995/05/03 20:47:12 ty7777 Exp ty7777 $*/
d3 3
d33 2
a34 2
	Author:
		Tom Yang and M. Todd Gamble.
a100 1
#define PET_COLOR_PLANES	12
d284 2
a285 1
	OpenPet,
d305 1
a367 1
	Widget		*atlas_trim;
d372 10
a381 5
	Widget		*xstart;
	Widget		*ystart;
	Widget		*width;
	Widget		*height;
	Widget		*orientation;
a450 1
PUBLIC void		ClearPortals ();
d467 1
a467 1
PUBLIC void		GetPetMinMax ();
d472 1
a472 1
PUBLIC void		PetColormap ();
a503 1
PUBLIC BOOLEAN		bAutoPetValueFlag;        
d505 12
a516 5
PUBLIC char		cPetValueFlag;		/* 0: Positive; 1: Negative; 2: Dual */
PUBLIC short		nMaxPetValue;
PUBLIC short		nMinPetValue;
PUBLIC short		nAutoMaxPetValue;
PUBLIC short		nAutoMinPetValue;
d521 2
a522 2
PUBLIC short		nxImageStart;
PUBLIC short		nyImageStart;
d530 2
a531 1
PUBLIC BOOLEAN		bPetImageSelected;        
d533 2
a534 1
PUBLIC char		szPetPathName [];
d536 1
a536 1
PUBLIC char		szPetMaskPathName [];
d543 3
a545 2
PUBLIC char		szPetFileName [];
PUBLIC char		szPetMaskFileName [];
d576 2
a578 1
PUBLIC char		szColorTableName [];
d581 20
a600 11
PUBLIC BOOLEAN		bPettVI14;		/* TRUE: PETT VI & nslices <= 14. */
PUBLIC short		nxColorBarStart;
PUBLIC short		nyColorBarStart;
PUBLIC short		nColorBarLength;
PUBLIC short		nColorBarWidth;
PUBLIC BOOLEAN		bHorizontalColorBar;
PUBLIC short		nxOldColorBar;
PUBLIC short		nyOldColorBar;
PUBLIC short		nOldColorBarLength;
PUBLIC short		nOldColorBarWidth;
PUBLIC BOOLEAN		bOldHoriColorBar;
a636 1
PUBLIC int		nColorTableIndex;
a644 2
PUBLIC int		nOldAtlasWidth;
PUBLIC int		nOldAtlasHeight;
d655 6
a660 2
PUBLIC llist		atlas;        
PUBLIC llist		plist;        
@


2.5
log
@Moved TRANSVERSE, CORONAL, FACING_LEFT, and FACING_RIGHT to petutil.h.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.4 1995/01/17 20:07:22 ty7777 Exp ty7777 $*/
d3 3
d236 2
a237 1
	int		rgn_pet_pixelsize;	/* region and pet image pixel size */
@


2.4
log
@Deleted data_sets list.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.3 1994/12/01 16:58:14 ty7777 Exp ty7777 $*/
d3 3
a169 4
#define	TRANSVERSE		0
#define	CORONAL			1
#define	FACING_LEFT		2
#define	FACING_RIGHT		3
@


2.3
log
@Deleted szLibraryPath.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.2 1994/10/26 16:14:27 ty7777 Exp ty7777 $*/
d3 3
a631 1
PUBLIC llist		data_sets;        
@


2.2
log
@Same as the last one.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 2.1 1994/10/19 16:59:59 ty7777 Exp ty7777 $*/
d3 3
d386 1
a511 1
PUBLIC char		szLibraryPathName [MAXLINE];
@


2.1
log
@Change szLibraryPath from a pointer to a string.
@
text
@d1 1
a1 1
/*$Id: portal.h,v 1.56 1994/10/17 19:50:35 ty7777 Exp ty7777 $*/
d3 3
@


1.56
log
@Before letting the filter pattern remain.
@
text
@d1 5
a5 2
/*$Id$*/
/*$Log$*/
d505 1
a505 1
PUBLIC char		*szLibraryPathName;
@


1.55
log
@X11R5 version.
@
text
@d1 3
a606 1
PUBLIC XmString		xmStrImageName;
@


1.54
log
@Added MAX_TRANS_ATLAS_NUM and assigned it to 75.
@
text
@@


1.53
log
@Added bZoriginChanged.
@
text
@d48 3
a50 2
#define TRANSVERSE_ATLAS_NUM	49
#define MAX_ATLAS_NUM		128
@


1.52
log
@After adding frames from color bar.
@
text
@d166 1
d472 1
d611 1
@


1.51
log
@Delected declaration for Lowered ().
@
text
@a474 1
PUBLIC BOOLEAN		bColorTable40;        
@


1.50
log
@Fixed coronal and sagittal region display problem.
@
text
@a443 1
PUBLIC char		*Lowered ();
@


1.49
log
@Added copyright info.
@
text
@d64 1
a64 1
#define REGION_SLICE_CY     	63.5
@


1.48
log
@Added nLegendFontHeight.
@
text
@d612 1
@


1.47
log
@Make new trg file work.
@
text
@d595 1
@


1.46
log
@Added place by mouse in the "Edit Text" menu.
@
text
@a96 3
#define REDRAW			0		/* redraw */
#define SELECT			1		/* select */
#define CANCEL			2		/* cancel */
@


1.45
log
@Added dMaximumDistance.
@
text
@d439 1
d611 2
@


1.44
log
@After adding legend.
@
text
@d329 1
d409 1
a409 1
	short		*spacing;
d414 1
d498 1
a498 1
PUBLIC short		nSpacing;
d529 1
d541 1
@


1.43
log
@Same as the last version.
@
text
@d85 2
a86 1
#define FONT		"*times-bold-r*--24-240-75-75*" /* default font for drawing text */
d168 1
d258 2
a259 1
	ShowPointState
d428 1
d437 1
d591 2
@


1.42
log
@Added GRAY.
@
text
@@


1.41
log
@View and Log Coordinates File.
@
text
@d151 1
@


1.40
log
@Dynamically showing point coordinates.
@
text
@d39 1
a39 1
#include <petutil/petutil.h>
@


1.39
log
@Before working on Dr. Raichle's problem.
@
text
@d34 1
d36 2
d267 2
a268 1
	SaveWinDump
d447 1
d500 1
d502 1
d506 1
d518 1
d592 1
@


1.38
log
@Deleted rgbRegion.
@
text
@d60 2
a61 2
#define REGION_SLICE_CX     	REGION_SLICE_WIDTH / 2 + 0.5
#define REGION_SLICE_CY     	REGION_SLICE_HEIGHT / 2 + 0.5
a64 1
#define MAXLINE			255		/* maximum chars in one line */
d305 1
d509 1
@


1.37
log
@After coronal and saggital regions show.
@
text
@d72 1
a72 1
#define NCOLORS_NONIMAGE	4
d77 1
a77 2
#define REGION_CELL		PET_COLOR_START + NCOLORS + 2
#define LABEL_CELL		PET_COLOR_START + NCOLORS + 3
d163 1
a397 1
	char		*region_style;
a456 1
PUBLIC RGB_COLOR	rgbRegion;		/* region color value */
a467 1
PUBLIC char		cRegionStyle;        
@


1.36
log
@After multiple regions display.
@
text
@d60 2
@


1.35
log
@Move CreateXorGC () declaration to /usr/local/include/petutil/petutil.h.
@
text
@d92 1
d127 1
d129 10
a138 10
#define AF3D_ALTER0		0
#define AF3D_ALTER1		1
#define AF3D_ALTER2		2
#define AF3D_ALTER3		3
#define AF3D_ALTER4		4
#define AF3D_ALTER5		5
#define AF3D_ALTER6		6
#define AF3D_ALTER7		7
#define AF3D_ALTER8		8
#define AF3D_ALTER9		9
d159 3
a212 4
	BOOLEAN		region_exist;		/* TRUE: region slice exist */
	XPoint		*region_input;		/* coord. of region pixels read in*/
	XPoint		*region;		/* region points after resizing */
	int		rgn_pixel_num;		/* number of pixels in a region */
d218 9
a277 1
	Widget		*region;
d301 10
a366 1
	Widget			*region_color_set;
d370 1
a463 1
PUBLIC BOOLEAN		bDisplayRegion;        
a487 1
PUBLIC BOOLEAN		bRegionImageSelected;        
d499 12
a510 2
PUBLIC char		szRegionFileName [];
PUBLIC char		szAF3DFileNames [][255];
d591 1
@


1.34
log
@Added a BOOLEAN variable bApplyMask.
@
text
@a396 1
PUBLIC GC		CreateXorGC ();
@


1.33
log
@Before adding mask procesisng.
@
text
@d267 1
d514 1
@


1.32
log
@After add AF3D points works.
@
text
@a46 2
#define PETT6_PIXEL_SIZE	2.86		/* pixel size for PETT VI images with number of */
						/* slices <= 14 */
a88 1
#define TEN			10		/* numerical: 10 */
@


1.31
log
@Before changin libcti.a.
@
text
@d157 3
@


1.30
log
@Add atlas trim.
@
text
@d298 1
d491 1
@


1.29
log
@Adding errorMessageBox as a public Widget variable.
@
text
@d315 1
d376 1
d511 1
@


1.28
log
@Before testing the libcti.a library function.
@
text
@d555 1
@


1.27
log
@After adding "xlabel" button.
@
text
@d36 2
a37 1
#include "llist.h"		/* include linked list package */
@


1.26
log
@AF3D Files have the same path.
@
text
@a127 3
#define BITMAP_WIDTH		16
#define BITMAP_HEIGHT		16
#define MAX_SYMBOL_NUM		7
a128 15
#define RECTANGLE		0
#define CIRCLE			1
#define DIAMOND			2
#define UP_TRIANGLE		3
#define DOWN_TRIANGLE		4
#define LEFT_TRIANGLE		5
#define RIGHT_TRIANGLE		6
#define FILLED_SYMBOL_START	7
#define FILLED_RECTANGLE	7
#define FILLED_CIRCLE		8
#define FILLED_DIAMOND		9
#define FILLED_UP_TRIANGLE	10
#define FILLED_DOWN_TRIANGLE	11
#define FILLED_LEFT_TRIANGLE	12
#define FILLED_RIGHT_TRIANGLE	13
a422 1
PUBLIC void		xs_register_pattern ();
@


1.25
log
@Before change path for AF3D files.
@
text
@d491 1
a491 1
PUBLIC char		szAF3DPathNames [][255];
@


1.24
log
@After default masking menu works.
@
text
@a576 8

/* 
 * macros 
 */
#define ROUND(x)	(int)(x + 0.5)		/* rounding float/double to int */
#define SliceXY(x)	(int)((64.5 - x) * 2)	/* convert slice number to X or Y value */
#define XYtoSlice(x)	(int)(64.5 - (x / 2.0))	/* convert X or Y value to slice number */

@


1.23
log
@After Mask File Selection Menu Worked.
@
text
@a483 1
PUBLIC BOOLEAN		bAtlasImageSelected;        
@


1.22
log
@Before adding mask menu.
@
text
@d266 1
d491 1
@


1.21
log
@Before adding file selection box for pet mask.
@
text
@a127 2
#define COLOR_TABLE_PATH	"/usr/local/lib/VIEW25D/"
#define DEFAULT_COLOR_TABLE	"/usr/local/lib/VIEW25D/Color40.tbl"
d486 2
d495 1
@


1.20
log
@After AF3D All Planes Worked.
@
text
@d394 1
a579 2
#define SliceZ(x)	(31 - x) * 2		/* convert slice number to Z value */
#define ZtoSlice(x)	(31 - (x / 2))		/* convert Z value to slice number */
@


1.19
log
@After AF3D menu works.
@
text
@d314 1
d393 1
d464 1
@


1.18
log
@After AF3D menu cancel button works.
@
text
@d111 1
d536 1
@


1.17
log
@Before AF3D menu cancel button works.
@
text
@d500 1
@


1.16
log
@After AF3D menu works.
@
text
@d40 3
a42 1
/* constants */
d177 3
a179 1
/* application defined structures */
d309 1
d313 1
a313 1
	Widget		*size_text;
a390 1
	unsigned short	*symbol_size;
d398 3
a400 1
/* function prototypes */
d442 3
a444 1
/* global variables */
d498 1
a498 2
PUBLIC BOOLEAN		bAF3DImageSelected;        
PUBLIC unsigned short	nSymbolSize;
d569 3
a571 1
/* macros */
@


1.15
log
@Before Building AF3D Queue.
@
text
@a280 1
	Widget		*AF3D;
a304 2
	Widget		*color_code_set;
	Widget		*label_code_set;
d308 1
a308 2
	Widget		*width_text;
	Widget		*height_text;
d386 1
a386 5
	BOOLEAN		*display_AF3D_flag;
	char		*symbol_type;
	Pixel		*symbol_color;
	unsigned short	*symbol_width;
	unsigned short	*symbol_height;
d396 2
a397 7
PUBLIC void		ReadAtlasHeader ();
PUBLIC void		UpdatePortals ();
PUBLIC void		PetColormap ();
PUBLIC void		Swap ();
PUBLIC void		SwapShort ();
PUBLIC void		ColorBarText ();
PUBLIC void		SetSelectData ();
d400 3
a402 3
PUBLIC void		GetFileStatus ();
PUBLIC int		AtlasSliceCmp ();
PUBLIC void		RedrawPortals ();
a403 5
PUBLIC void		xs_register_pattern ();
PUBLIC void		DrawSymbol ();
PUBLIC void		GetPetMinMax ();
PUBLIC void		ErrorCheckMinMax ();
PUBLIC void		RegularMinMax ();
d406 2
a407 2
PUBLIC void		CheckPoints ();
PUBLIC GC		CreateXorGC ();
d409 4
a412 1
PUBLIC int		GetActiveIndex ();
d414 5
d420 4
a423 3
PUBLIC int		GetIndexFromName ();
PUBLIC Widget		GetWidgetFromName ();
PUBLIC char		*GetFontName ();
a424 1
PUBLIC void		GetDefaultParameters ();
d426 5
d432 1
a432 5
PUBLIC void		DoPseudo ();
PUBLIC int		GetXColors ();
PUBLIC int		GetSliceCoord ();
PUBLIC int		GetSliceNumber ();
PUBLIC void		SetDefaultAtlas ();
a449 1
PUBLIC BOOLEAN		bDisplayAF3D;
d487 1
d489 1
d491 1
a491 2
PUBLIC unsigned short	nSymbolWidth;
PUBLIC unsigned short	nSymbolHeight;
@


1.14
log
@Before AF3D menu works.
@
text
@d306 1
d494 1
d496 1
@


1.13
log
@Before AF3D menu works.
@
text
@d306 1
d493 2
a494 2
PUBLIC Pixel		pixelAF3DColor;
PUBLIC char		cSymbolType;
@


1.12
log
@Before AF3D menu works.
@
text
@d302 13
d362 1
@


1.11
log
@After Changing AF3D Drawing Part.
@
text
@d443 1
a443 2
PUBLIC char		cRegionStyle;        
PUBLIC BOOLEAN		bDisplayAF3D;        
d447 1
a468 1
PUBLIC BOOLEAN		bAF3DImageSelected;        
d471 1
a471 1
PUBLIC char		szAF3DPathName [];
d477 9
a485 1
PUBLIC char		szAF3DFileName [];
a487 1
PUBLIC char		szAF3DFileNames [][255];
a509 1
PUBLIC Pixel		pixelAF3DColor;
a516 6
PUBLIC unsigned short	nSymbolWidth;
PUBLIC unsigned short	nSymbolHeight;
PUBLIC char		cActiveAF3DSet;
PUBLIC char		cSymbolType;
PUBLIC char		cActiveSymbolType;
PUBLIC Widget		wActiveAF3DColor;
@


1.10
log
@Before AF3D Change.
@
text
@a226 1
	llist		points;			/* list points plotted to this image */
@


1.9
log
@Before AF3D Change.
@
text
@a226 1
	llist		data_sets;		/* list of data sets plotted to image */
@


1.8
log
@Before testing.
@
text
@d170 3
a172 3
#define	CX_IMAGE		64.5
#define	CY_IMAGE		64.5
#define	CZ_IMAGE		31.0
d235 2
d427 1
@


1.7
log
@Coronal and Sagittal Works!
@
text
@d170 3
d185 4
a188 4
	unsigned int	any_atlas_width;	
	unsigned int	any_atlas_height;
	char		image_name[MAXLINE];
	char		mask_name[MAXLINE];
d490 5
d541 2
@


1.6
log
@Before coronal and sagittal functions are added.
@
text
@d198 6
@


1.5
log
@Before coronal and sagittal functions are added.
@
text
@d205 1
a205 1
	short		*pet_input;		/* pet6 image read in from file */
@


1.4
log
@Display Coronal and Sagittal Slices.
@
text
@d415 1
@


1.3
log
@Atlas Change.
@
text
@d414 1
@


1.2
log
@Save and get atlas orientation menu.
@
text
@d10 2
a11 2
		M. Todd Gamble and Tom Yang
		12/06/90
d43 1
d193 1
a193 1
	char		index_table[TRANSVERSE_ATLAS_NUM];
d198 1
a198 1
	int		slice_z;		
d426 1
@


1.1
log
@Initial revision
@
text
@d107 1
d164 5
d277 1
d508 1
d527 1
a527 1

d534 5
a538 3
#define ROUND(x)		(int)(x + 0.5)	/* rounding float/double to int */
#define SliceZ(x)		(31 - x) * 2	/* convert slice number to Z value */
#define ZtoSlice(x)		(31 - (x / 2))	/* convert Z value to slice number */
@
