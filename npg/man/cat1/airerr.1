


AIRERR(1)                 User Commands                 AIRERR(1)



NAME
     airerr - compares the error between AIR alignment and  least
     squares alignment of a set of 5 fiducial points


SYNOPSIS
     airerr airfile mrifid petfid brain8bit #parameters


DESCRIPTION
     This program finds the matrix which aligns 2 images using  a
     set  of  fiducial  points  using  Powell's method (Numerical
     Recipes) and compares the matrix to  that  computed  by  AIR
     (Automated Image Registration) and contained in a file with.
     extension "air".  Two sets of fiducial points are read (both
     computed  by  fit_triangle_1n  and  with  extensions "fid").
     These fiducial point files contain 30 numbers: 5 rows  of  6
     numbers  where the first 3 numbers in each row are the pixel
     coordinates and the second 3 numbers are the coordinates  in
     mm.   The  pixel coordinates are read and the mm coordinates
     are ignored (the input files may be  free  format  with  the
     'rows' spilling over to a second line).

     The fiducials may be fit using either 6- or 12-parameters. A
     6-parameter  fit uses a rigid-body transformation with scal-
     ing factors determined by the images (they are read from the
     air  file). The 6-parameters are translation and rotation. A
     12-parameter fit permits all 12 elements of the first 3 rows
     of  the  transformation  matrix  to vary independently. This
     starts with the AIR-fit matrix, but  is  not  restricted  to
     rigid-body transformations.

     The mean vector distance between the fiducial points follow-
     ing  transformation  by  both  the  AIR matrix and the least
     squares fit matrix are computed and written to standard out-
     put.

     The difference  between  the  2  matrices  is  computed  and
     applied to all pixels within a "brain" image.  This image is
     a 8-bit image in Analyze format with the same dimensions  as
     the  MRI  image  with  all  pixels defined as "brain" having
     values > 0 and all other pixels = 0.   Airerr  computes  the
     mean  displacement  of  all those pixels with values > 0 and
     writes it as the "mean distance" to standard output.

     In addition, those pixels within the brain  which  have  the
     least  and  greatest  distance  (after transformation by the
     difference matrix) are displayed as  well  as  those  pixels
     within the brain with maximum or minimum indices along the 3
     axes.





Neuroimaging Lab     Last change: 04-Jan-96                     1






AIRERR(1)                 User Commands                 AIRERR(1)



EXAMPLES
     airerr mrpet mr pet bcrbrain 6
     airerr mrpet mr pet bcrbrain 12


RELATED PROGRAMS
     fit_triangle_1n(1)


AUTHOR
     Tom O. Videen












































Neuroimaging Lab     Last change: 04-Jan-96                     2



